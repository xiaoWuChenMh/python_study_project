
### 任务梳理

```text
状态={state:,timeout：}
status_start(状态的定时起始时间点）

   
首次激活任务(没领取，已领取）
  点击还有师门的首个任务列表，成功=激活
  从活动页领取任务，成功=激活
  
激活后流程
  文本点击
     if 状态==0 ：状态=1
  使用道具
  点击任务（先判断是师门在点击）
  点击对话框
       if 状态==2 ：状态=3、timing_start
  商铺购买（确定-睡-关闭-睡）
  商店购买-搜索
  商店购买（确定-睡-再次确定-睡-关闭-睡）
  提交装备-首次-点击购买：状态=2、timing_start
  提交装备-再次-提交：状态=0
  超时判断（非0），修改状态
    1-change-0
    更新记时间
  判断是否需要再次激活：
        加一个阈值，如果没找到师门任务就加1，超过阈值执行激活任务的逻辑。
        当有一次找到师门任务，就将累计值清空。
  查是否需要退出任务执行流程:break
```
### 状态说明

```text
0-激活成功，包括：文本点击
1-正常流程，不包括：提交装备-再次-提交
2-进入装备提交购买节点，包括：点击对话框（60秒未改变状态，状态改为0）
3-进入装备再次提交节点，包括：点击任务+提交装备-再次 (默认60秒未改变状态，状态改为0）
4-点击任务列表后，同正常流程，其中除‘点击任务列表’外执行其他任务后状态都变为1

非0，进入超时判断，修改状态
  超时，2-change-1 
  超时，3-change-1 

```

